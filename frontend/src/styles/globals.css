@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════════════════════════
   DiagnosticLab – Neumorphic Design System
   ═══════════════════════════════════════════════════════════════════ */

/* ── CSS Variables ─────────────────────────────────────────────── */
:root {
  --surface: 226 232 240;
  --surface-deep: 203 213 225;
  --foreground: 15 23 42;
  --muted: 100 116 139;
  --accent: 5 150 105;
  --accent-glow: 16 185 129;
  --accent-secondary: 8 145 178;
  --glass-bg: 255 255 255;
  --glass-opacity: 0.45;
  --neu-light: rgba(255,255,255,0.8);
  --neu-shadow: rgba(163,177,198,0.6);
}

.dark {
  --surface: 15 23 42;
  --surface-deep: 2 6 23;
  --foreground: 241 245 249;
  --muted: 148 163 184;
  --accent: 16 185 129;
  --accent-glow: 52 211 153;
  --accent-secondary: 34 211 238;
  --glass-bg: 30 41 59;
  --glass-opacity: 0.35;
  --neu-light: rgba(45,55,72,0.3);
  --neu-shadow: rgba(0,0,0,0.5);
}

/* ── Base Layer ────────────────────────────────────────────────── */
@layer base {
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-surface-200 dark:bg-surface-900 text-surface-900 dark:text-surface-100;
    background-image:
      radial-gradient(circle at 1px 1px, rgba(148,163,184,0.12) 1px, transparent 0);
    background-size: 24px 24px;
    transition: background-color 0.4s ease, color 0.3s ease;
  }

  .dark body,
  body:is(.dark *) {
    background-image:
      radial-gradient(circle at 1px 1px, rgba(148,163,184,0.04) 1px, transparent 0);
  }

  *:focus { outline: none; }
  *:focus-visible {
    @apply ring-2 ring-emerald-500/50 ring-offset-2 ring-offset-surface-200 dark:ring-offset-surface-900;
  }
}

/* ── Components ────────────────────────────────────────────────── */
@layer components {
  /* Glass Panel – used in login card */
  .glass-panel-solid {
    background: rgba(var(--glass-bg), 0.7);
    backdrop-filter: blur(24px) saturate(1.6);
    -webkit-backdrop-filter: blur(24px) saturate(1.6);
    border: 1px solid rgba(255,255,255,0.2);
    @apply rounded-neu-lg;
  }

  /* Neumorphic Pressed (inset) – used in search bar, inputs, checkboxes */
  .neu-pressed {
    @apply bg-surface-200 dark:bg-surface-800 rounded-neu;
    box-shadow:
      inset 4px 4px 8px var(--neu-shadow),
      inset -4px -4px 8px var(--neu-light);
  }

  /* Neumorphic Button – used in Button outline variant */
  .neu-btn {
    @apply bg-surface-200 dark:bg-surface-800 rounded-neu px-6 py-3 font-semibold;
    box-shadow:
      4px 4px 8px var(--neu-shadow),
      -4px -4px 8px var(--neu-light);
    transition: all 0.15s ease;
  }

  .neu-btn:hover {
    box-shadow:
      2px 2px 4px var(--neu-shadow),
      -2px -2px 4px var(--neu-light);
  }

  .neu-btn:active {
    box-shadow:
      inset 3px 3px 6px var(--neu-shadow),
      inset -3px -3px 6px var(--neu-light);
  }

  /* Neumorphic Input – used in Input component */
  .neu-input {
    @apply bg-surface-200 dark:bg-surface-800 rounded-neu px-4 py-3;
    box-shadow:
      inset 3px 3px 6px var(--neu-shadow),
      inset -3px -3px 6px var(--neu-light);
    border: 1px solid transparent;
    transition: all 0.2s ease;
  }

  .neu-input:focus {
    border-color: rgb(var(--accent));
    box-shadow:
      inset 3px 3px 6px var(--neu-shadow),
      inset -3px -3px 6px var(--neu-light),
      0 0 0 3px rgba(var(--accent), 0.15);
  }

  /* Glow Indicators – used in status dots across dashboard and login */
  .glow-dot {
    @apply w-2.5 h-2.5 rounded-full;
    animation: breathe 3s ease-in-out infinite;
  }

  .glow-dot-emerald {
    @apply bg-emerald-500;
    box-shadow: 0 0 8px rgba(16,185,129,0.6), 0 0 20px rgba(16,185,129,0.2);
  }

  .glow-dot-rose {
    @apply bg-rose-500;
    box-shadow: 0 0 8px rgba(244,63,94,0.6), 0 0 20px rgba(244,63,94,0.2);
  }

  /* Console monospaced text – used in login hero, dashboard status */
  .text-mono {
    font-family: 'JetBrains Mono', 'SF Mono', Monaco, monospace;
    letter-spacing: 0.02em;
  }
}

/* ── Scrollbar ─────────────────────────────────────────────────── */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-surface-400/40 dark:bg-surface-600/40 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-surface-400/60 dark:bg-surface-600/60;
}

/* ── Selection ─────────────────────────────────────────────────── */
::selection {
  @apply bg-emerald-500/20 text-emerald-900 dark:text-emerald-100;
}
